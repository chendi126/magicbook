# 新功能测试指南

## 🧪 测试前准备

1. **编译应用**：
   ```bash
   # 在项目根目录执行
   hvigorw assembleHap
   ```

2. **安装到设备**：
   - 连接 HarmonyOS 设备或启动模拟器
   - 通过 DevEco Studio 安装应用

---

## ✅ 功能测试清单

### 1️⃣ 配色实验室测试

**入口**：主页底部 Tab "实验室"

**测试步骤**：

1. **基础创建**
   - [ ] 打开配色实验室
   - [ ] 查看默认颜色（蓝色 #007AFF）
   - [ ] 点击"添加颜色"按钮，验证新颜色添加成功
   - [ ] 最多添加到8个颜色，验证限制提示

2. **颜色调整**
   - [ ] 选中一个颜色（点击颜色卡片）
   - [ ] 拖动"色相"滑块，观察颜色实时变化
   - [ ] 拖动"饱和度"滑块，观察颜色实时变化
   - [ ] 拖动"亮度"滑块，观察颜色实时变化
   - [ ] 验证数值显示正确（0-360 for 色相，0-100 for 饱和度/亮度）

3. **快速操作**
   - [ ] 点击"随机颜色"，验证当前颜色随机变化
   - [ ] 点击"互补色"，验证添加互补色成功
   - [ ] 点击"类似色"，验证添加类似色成功
   - [ ] 点击"清空重置"，确认对话框，验证重置成功

4. **配色分析**
   - [ ] 点击底部"分析配色"按钮
   - [ ] 验证显示分析面板
   - [ ] 检查评分指标（温暖度/活力度/专业度/和谐度）
   - [ ] 检查情感标签显示
   - [ ] 检查适用场景推荐

5. **保存方案**
   - [ ] 点击底部"保存方案"按钮
   - [ ] 输入方案名称（如"测试配色1"）
   - [ ] 点击保存，验证成功提示
   - [ ] 切换到"配色库" Tab，验证方案已保存

**预期结果**：所有操作流畅，颜色调整实时响应，分析结果合理

---

### 2️⃣ 配色分析仪表盘测试

**入口**：配色库 → 选择任意方案 → 点击"分析"按钮

**测试步骤**：

1. **打开分析对话框**
   - [ ] 在配色库中选择一个配色方案
   - [ ] 点击"分析"按钮
   - [ ] 验证分析对话框弹出

2. **情感分析验证**
   - [ ] 检查温暖度评分（红橙黄应该高分，蓝绿紫应该低分）
   - [ ] 检查活力度评分（高饱和度应该高分）
   - [ ] 检查专业度评分
   - [ ] 检查和谐度评分
   - [ ] 验证进度条显示正确

3. **情感标签验证**
   - [ ] 检查情感标签是否合理（如暖色调显示"温暖"）
   - [ ] 验证标签样式正确

4. **适用场景验证**
   - [ ] 检查推荐场景是否合理
   - [ ] 验证场景标签样式正确

5. **可访问性检查**
   - [ ] 检查对比度检查结果
   - [ ] 验证 WCAG AA/AAA 标准显示
   - [ ] 检查对比度比值计算正确
   - [ ] 验证等级评估（优秀/良好/一般/较差）

6. **关闭对话框**
   - [ ] 点击"×"或"关闭"按钮
   - [ ] 验证对话框正确关闭

**预期结果**：分析结果专业合理，符合色彩理论

---

### 3️⃣ 配色对比工具测试

**入口**：配色库 → 点击标题栏"对比"按钮

**测试步骤**：

1. **选择方案**
   - [ ] 点击"对比"按钮
   - [ ] 验证对比对话框弹出
   - [ ] 选择第一个配色方案，验证添加到"已选择"
   - [ ] 选择第二个配色方案
   - [ ] 尝试选择第四个方案，验证"最多选择3个"提示
   - [ ] 点击"移除"按钮，验证方案移除成功

2. **开始对比**
   - [ ] 选择至少2个方案
   - [ ] 点击"开始对比"按钮
   - [ ] 验证切换到对比模式

3. **并排对比验证**
   - [ ] 检查配色预览并排显示
   - [ ] 验证方案名称显示正确
   - [ ] 验证颜色块显示正确

4. **详细分析验证**
   - [ ] 检查颜色数量对比
   - [ ] 检查平均亮度对比
   - [ ] 检查平均饱和度对比
   - [ ] 检查色相范围对比
   - [ ] 如果是2个方案，检查相似度分析

5. **返回选择**
   - [ ] 点击"← 重新选择"
   - [ ] 验证返回选择模式

**预期结果**：对比数据准确，帮助用户做决策

---

### 4️⃣ 配色学习中心测试

**入口**：主页底部 Tab "学习"

**测试步骤**：

1. **理论教程测试**
   - [ ] 打开学习中心
   - [ ] 默认显示"理论教程" Tab
   - [ ] 验证显示6个教程卡片：
     - 色彩基础
     - 互补色配色
     - 类似色配色
     - 三角配色
     - 单色配色
     - 四角配色

2. **教程详情测试**
   - [ ] 点击"色彩基础"教程
   - [ ] 验证显示教程详情
   - [ ] 检查理论知识内容（5条）
   - [ ] 检查配色示例（2个示例）
   - [ ] 验证颜色值显示正确
   - [ ] 点击"← 返回"，验证返回列表

3. **其他教程测试**
   - [ ] 依次查看其他5个教程
   - [ ] 验证每个教程内容完整
   - [ ] 验证示例配色显示正确

4. **案例分析测试**
   - [ ] 切换到"案例分析" Tab
   - [ ] 验证显示3个分类：
     - 企业品牌
     - 运动健身
     - 环保健康
   - [ ] 每个分类至少1个案例

5. **案例详情测试**
   - [ ] 点击"科技蓝"案例
   - [ ] 验证显示案例详情
   - [ ] 检查配色预览
   - [ ] 检查颜色值显示
   - [ ] 检查基本信息（名称、分类、描述）
   - [ ] 检查专业分析内容
   - [ ] 点击"← 返回"，验证返回列表

**预期结果**：教程内容完整，案例分析专业

---

## 🔍 集成测试

### 完整流程测试

1. **创作 → 分析 → 保存**
   - [ ] 在实验室创建配色
   - [ ] 分析配色
   - [ ] 保存到配色库
   - [ ] 在配色库中找到并打开

2. **学习 → 创作 → 对比**
   - [ ] 在学习中心学习"互补色配色"
   - [ ] 在实验室创建互补色配色
   - [ ] 保存后与其他方案对比

3. **提取 → 分析 → 学习**
   - [ ] 在首页提取图片配色
   - [ ] 分析配色特征
   - [ ] 根据分析结果在学习中心查找相关理论

**预期结果**：各功能模块协同工作，形成完整的使用闭环

---

## 🐛 常见问题排查

### 问题1：编译失败
- 检查 DevEco Studio 版本（需要 API 10+）
- 清理项目：`hvigorw clean`
- 重新编译

### 问题2：分析结果不合理
- 检查 ColorAnalyzer.ets 算法实现
- 验证 HSL 转换是否正确

### 问题3：对比功能无法打开
- 确保配色库中至少有2个方案
- 检查 filteredSchemes 数据

### 问题4：学习中心内容不显示
- 检查 tutorials 和 cases 数据是否正确
- 验证 ForEach 循环

---

## ✅ 测试完成标准

- [ ] 所有功能测试项通过
- [ ] 集成测试流程顺畅
- [ ] 无崩溃、无明显 bug
- [ ] 交互流畅，响应及时
- [ ] UI 显示正确，无错位

---

## 📝 测试报告模板

```
测试日期：____年__月__日
测试设备：HarmonyOS ____
测试版本：____

功能测试结果：
- 配色实验室：✅ 通过 / ❌ 失败
- 配色分析：✅ 通过 / ❌ 失败
- 配色对比：✅ 通过 / ❌ 失败
- 学习中心：✅ 通过 / ❌ 失败

发现问题：
1. ____
2. ____

建议改进：
1. ____
2. ____
```

---

**祝测试顺利！如有问题，请参考代码注释或联系开发者。** 🚀

